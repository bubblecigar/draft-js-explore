{"version":3,"sources":["editor/plugins/CmdKeyPlugins.js","editor/plugins/CtrlKeyPlugins.js","editor/plugins/InsertLabelPlugin.js","editor/plugins/HighlightFocusedBlockPlugin.js","editor/plugins/LastWordPlugin.js","editor/plugins/SuggestionPortalPlugin.js","editor/plugins/Place.js","editor/styles/buttonStyle.js","editor/plugins/buttonMaker.js","editor/plugins/TextCountPlugin.js","editor/plugins/EditorStylePlugin.js","editor/Editor.js","editor/plugins/TabIndentPlugin.js","editor/KeyMapTable.js","editor/ImageEditor.js","editor/static/defaultMap.js","App.js","serviceWorker.js","index.js"],"names":["CmdKeyMark","options","type","key","onKeyDown","e","editor","next","metaKey","preventDefault","toggleMark","RenderMark","renderMark","props","mark","component","CmdMarkPlugin","CmdKeyPlugins","attribute","children","style","background","CtrlKeyBlock","ctrlKey","isType","value","blocks","some","block","setBlocks","RenderBlock","renderBlock","node","ctrlKeyPlugin","CtrlKeyPlugins","InsertLabelPlugin","schema","inlines","label","isVoid","keyCode","Inline","fromJSON","data","message","insertInline","renderInline","wrapperStyle","position","buttonStyle","cursor","color","backgroundColor","outline","border","fontWeight","fontSize","detailStyle","open","display","left","bottom","padding","borderRadius","whiteSpace","textIndent","Label","React","useState","setOpen","setValue","inputRef","useRef","attributes","onClick","stopPropagation","window","requestAnimationFrame","current","focus","ref","onChange","target","onBlur","HighlightFocusedBlockPlugin","className","isFocused","LastWordPlugin","queries","getLastWord","focusText","text","focusOffset","selection","offset","slice","split","join","reverse","commands","replaceLastWord","newWord","lastWord","deleteBackward","length","insertText","optionStyle","select","firstChild","lastChild","Object","assign","borderTop","borderBottom","SuggestionPortalPlugin","suggestionMap","portalState","list","index","portalUpdater","Portal","setList","setIndex","portalRef","xOffset","setXOffset","yOffset","setYOffset","useEffect","rect","getSelection","getRangeAt","getBoundingClientRect","pageXOffset","pageYOffset","console","log","onMouseDown","i","onMouseOver","flexFlow","minWidth","top","transform","map","option","_","lastword","reduceRight","acc","char","reduce","getSuggestionlist","EventDispatcherPlugin","renderEditor","bar","justifyContent","alignItems","side","Place","topLeftItems","topRightItems","bottomLeftItems","bottomRightItems","item","toggleButtonStyle","active","mouseover","margin","fontFamily","makeButton","mouseDownHandler","styleHandler","createMarkButton","activeMarks","isMarkTypeActive","makeToggleMarkButton","createBlockButton","isBlockTypeActive","makeSetBlockButton","textAlign","calLength","str","EditorStylePlugin","id","export","setD","staticPlugins","totalText","document","selectedText","fragment","H2oEditor","content","setContent","setData","editorRef","_editorRef","d","plugins","setPlugins","change","x","y","autoFocus","tableStyle","height","overflow","pairStyle","inputStyle","width","deleteButtonStyle","Input","setState","v","setV","setIsFocused","onFocus","KeyMapTable","setSuggestionMap","keys","setKeys","vals","setVals","uids","setUids","nextIdRef","setStateBy","field","setter","newVal","bind","uid","Marker","w","pointerEvents","ImageEditor","src","marginTop","backgroundImage","backgroundPosition","backgroundRepeat","nativeEvent","offsetX","offsetY","AMI","CHD","CHF","containerStyle","centerBlockStyle","sideBlockStyle","headingStyle","paddingTop","componentStyle","paddingBottom","storedMap","defaultMap","storedContent","storedJsonStr","store","get","json","JSON","parse","Value","nodes","object","getContent","App","set","jsonStr","stringify","path","to","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.71f8e0e6.chunk.js","sourcesContent":["import React from 'react'\n\nconst CmdKeyMark = options => {\n  const { type, key } = options\n  return {\n    onKeyDown: (e, editor, next) => {\n      if (!e.metaKey || !(e.key === key)) {\n        return next()\n      }\n      e.preventDefault()\n      editor.toggleMark(type)\n    }\n  }\n}\nconst RenderMark = options => {\n  return {\n    renderMark: (props, editor, next) => {\n      if (props.mark.type === options.type) {\n        return options.component(props)\n      } else {\n        return next()\n      }\n    }\n  }\n}\nconst CmdMarkPlugin = options => [\n  CmdKeyMark(options),\n  RenderMark(options)\n]\n\nconst CmdKeyPlugins = [\n  ...CmdMarkPlugin({\n    type: 'bold',\n    key: 'b',\n    component: props => (\n      <strong {...props.attribute}>{props.children}</strong>\n    )\n  }),\n  ...CmdMarkPlugin({\n    type: 'strikethrough',\n    key: 's',\n    component: props => (\n      <s {...props.attribute}>{props.children}</s>\n    )\n  }),\n  ...CmdMarkPlugin({\n    type: 'underline',\n    key: 'u',\n    component: props => (\n      <u {...props.attribute}>{props.children}</u>\n    )\n  }),\n  ...CmdMarkPlugin({\n    type: 'italic',\n    key: 'i',\n    component: props => (\n      <i {...props.attribute}>{props.children}</i>\n    )\n  }),\n  ...CmdMarkPlugin({\n    type: 'highlight',\n    key: 'h',\n    component: props => (\n      <span {...props.attribute} style={{ background: 'gold' }}>{props.children}</span>\n    )\n  })\n]\n\nexport default CmdKeyPlugins\n","import React from 'react'\n\nconst CtrlKeyBlock = options => {\n  const { type, key } = options\n  return {\n    onKeyDown: (e, editor, next) => {\n      if (!e.ctrlKey || !(e.key === key)) {\n        return next()\n      }\n      e.preventDefault()\n      const isType = editor.value.blocks.some(block => block.type === type)\n      editor.setBlocks({ type: isType ? 'paragraph' : type })\n    }\n  }\n}\n\nconst RenderBlock = options => {\n  const { type, component } = options\n  return {\n    renderBlock: (props, editor, next) => {\n      if (props.node.type === type) {\n        return component({ ...props })\n      } else {\n        return next()\n      }\n    }\n  }\n}\nconst ctrlKeyPlugin = ({ type, key, component }) => {\n  return [\n    CtrlKeyBlock({ type, key }),\n    RenderBlock({ type, component })\n  ]\n}\n\nconst CtrlKeyPlugins = [\n  ...ctrlKeyPlugin({\n    type: 'paragraph',\n    key: 'p',\n    component: props => (\n      <p {...props.attribute}>\n        {props.children}\n      </p>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'code',\n    key: 'c',\n    component: props => (\n      <pre {...props.attribute}>\n        <code>{props.children}</code>\n      </pre>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'header1',\n    key: '1',\n    component: props => (\n      <h1 {...props.attribute}>\n        {props.children}\n      </h1>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'header2',\n    key: '2',\n    component: props => (\n      <h2 {...props.attribute}>\n        {props.children}\n      </h2>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'header3',\n    key: '3',\n    component: props => (\n      <h3 {...props.attribute}>\n        {props.children}\n      </h3>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'header4',\n    key: '4',\n    component: props => (\n      <h4 {...props.attribute}>\n        {props.children}\n      </h4>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'header5',\n    key: '5',\n    component: props => (\n      <h5 {...props.attribute}>\n        {props.children}\n      </h5>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'header6',\n    key: '6',\n    component: props => (\n      <h6 {...props.attribute}>\n        {props.children}\n      </h6>\n    )\n  }),\n  ...ctrlKeyPlugin({\n    type: 'quotation',\n    key: 'q',\n    component: props => (\n      <blockquote {...props.attribute}>\n        {props.children}\n      </blockquote>\n    )\n  })\n]\n\nexport default CtrlKeyPlugins\n","import React from 'react'\nimport { Inline, Text } from 'slate'\n\nconst InsertLabelPlugin = {\n  schema: {\n    inlines: {\n      label: {\n        isVoid: true\n      }\n    }\n  },\n  onKeyDown: (e, editor, next) => {\n    if (!e.metaKey || !(e.keyCode === 191)) {\n      return next()\n    }\n    e.preventDefault()\n    const label = Inline.fromJSON({\n      type: 'label',\n      data: {\n        message: 'default message'\n      }\n    })\n    editor.insertInline(label)\n  },\n  renderInline: (props, editor, next) => {\n    if (props.node.type === 'label') {\n      return (\n        <Label {...props} />\n      )\n    }\n    return next()\n  }\n}\n\nconst wrapperStyle = {\n  position: 'relative'\n}\nconst buttonStyle = {\n  cursor: 'pointer',\n  color: 'tomato',\n  backgroundColor: 'transparent',\n  outline: 'none',\n  border: '0',\n  fontWeight: 'bold',\n  fontSize: '1em'\n}\nconst detailStyle = open => ({\n  display: open ? 'block' : 'none',\n  position: 'absolute',\n  left: '0',\n  bottom: '110%',\n  padding: '10px',\n  backgroundColor: 'white',\n  color: 'tomato',\n  border: '1px dashed tomato',\n  borderRadius: '3px',\n  whiteSpace: 'nowrap',\n  textIndent: '0',\n  fontSize: '.8em',\n  outline: 'none'\n})\nconst Panel = props => {\n  const data = props.node.data.toObject()\n  return (\n    <span {...props.attributes}>\n      {data.message}\n    </span>\n  )\n}\nconst Input = props => {\n  const [value, setValue] = React.useState('')\n  const onChange = e => {\n    setValue(e.target.value)\n  }\n  const onClick = e => {\n    e.stopPropagation()\n  }\n  return (\n    <input\n      style={detailStyle}\n      value={value}\n      onChange={onChange}\n      onClick={onClick}\n    />\n  )\n}\nconst Label = props => {\n  const [open, setOpen] = React.useState(false)\n  const [value, setValue] = React.useState('')\n  const inputRef = React.useRef(null)\n\n  const onChange = e => {\n    setValue(e.target.value)\n  }\n  const onInputClick = e => {\n    e.stopPropagation()\n  }\n  const onBlur = e => {\n    setOpen(false)\n  }\n  const onClick = e => {\n    e.stopPropagation()\n    setOpen(!open)\n    if (!open) {\n      window.requestAnimationFrame(\n        () => {\n          inputRef && inputRef.current.focus()\n        }\n      )\n    }\n  }\n\n  return (\n    <span\n      {...props.attributes}\n      style={wrapperStyle}\n    >\n      <button\n        style={buttonStyle}\n        onClick={onClick}\n      >\n        {'*'}\n      </button>\n      <input\n        ref={inputRef}\n        style={detailStyle(open)}\n        value={value}\n        onChange={onChange}\n        onClick={onInputClick}\n        onBlur={onBlur}\n      />\n    </span>\n  )\n}\n\nconst Detail = props => {\n  return (\n    <span\n      style={detailStyle}\n    >\n      {props.children}\n    </span>\n  )\n}\n\nexport default InsertLabelPlugin\n","import React from 'react'\n\nconst HighlightFocusedBlockPlugin = backgroundColor => (\n  {\n    renderBlock: (props, editor, next) => (\n      <div className={props.isFocused ? 'focusBlock' : 'nonFocusBlock'}>\n        {next()}\n      </div>\n    )\n  }\n)\nexport default HighlightFocusedBlockPlugin\n","const LastWordPlugin = {\n  queries: {\n    getLastWord: editor => {\n      if (editor.value.focusText) {\n        const text = editor.value.focusText.text\n        const focusOffset = editor.value.selection.focus.offset\n        const tail = text.slice(0, focusOffset).split('\\n').join('').split(' ').reverse()[0]\n        return tail\n      }\n      return ''\n    }\n  },\n  commands: {\n    replaceLastWord: (editor, newWord) => {\n      const lastWord = editor.getLastWord()\n      if (!lastWord) {\n        return\n      }\n      if (typeof newWord !== 'string') {\n        return\n      }\n      editor.deleteBackward(lastWord.length).insertText(newWord)\n    }\n  }\n}\nexport default LastWordPlugin\n","import React from 'react'\nimport LastWordPlugin from './LastWordPlugin'\n\nconst portalStyle = ({ open, xOffset, yOffset }) => ({\n  display: open ? 'flex' : 'none',\n  flexFlow: 'column',\n  minWidth: '100px',\n\n  position: 'absolute',\n  left: xOffset,\n  top: yOffset,\n  transform: 'translate3d(-5px,5px,0)',\n\n  border: '1px dashed gray'\n})\n\nconst optionStyle = ({ select, firstChild, lastChild }) => {\n  const baseStyle = {\n    backgroundColor: 'white',\n    color: 'gray',\n    padding: '7px 14px 7px 7px',\n    fontWeight: 'bold',\n    borderTop: '1px dashed white',\n    borderBottom: '1px dashed white',\n    cursor: 'pointer'\n  }\n  const selectStyle = {\n    backgroundColor: 'gray',\n    color: 'white',\n    borderTop: '1px dashed white',\n    borderBottom: '1px dashed white'\n  }\n  const lastStyle = {\n    borderBottom: '1px dashed transparent'\n  }\n  const firstStyle = {\n    borderTop: '1px dashed transparent'\n  }\n  return Object.assign(\n    {},\n    baseStyle,\n    select ? selectStyle : {},\n    firstChild ? firstStyle : {},\n    lastChild ? lastStyle : {}\n  )\n}\n\nconst SuggestionPortalPlugin = suggestionMap => {\n  // external data shared between Portal and EventDispatcher\n  const ref = {\n    portalState: {\n      open: false,\n      list: [],\n      index: 0\n    },\n    // call portalUpdater to sync the internal data of Portal and ref\n    portalUpdater: () => {}\n  }\n  const getSuggestionlist = (lastword, map) => (!lastword ? [] : lastword.split('').reduceRight(\n    (acc, char, i) => (\n      acc[0] ? [char + acc[0], ...acc] : [char]\n    ), []\n  ).reduce(\n    (acc, key) => (\n      map[key] ? [...acc, map[key]] : [...acc]\n    ), []\n  ))\n\n  const Portal = ({ editor }) => {\n    // internal data\n    const [open, setOpen] = React.useState(ref.portalState.open)\n    const [list, setList] = React.useState(ref.portalState.list)\n    const [index, setIndex] = React.useState(ref.portalState.index)\n    // portal position\n    const portalRef = React.useRef(null)\n    const [xOffset, setXOffset] = React.useState(0)\n    const [yOffset, setYOffset] = React.useState(0)\n\n    // pass the updater to external ref\n    React.useEffect(\n      () => {\n        ref.portalUpdater = () => {\n          setOpen(ref.portalState.open)\n          setList(ref.portalState.list)\n          setIndex(ref.portalState.index)\n        }\n      }, []\n    )\n\n    // update caret position as selection change\n    React.useEffect(\n      () => {\n        try {\n          const rect = window.getSelection().getRangeAt(0).getBoundingClientRect()\n          setXOffset(window.pageXOffset + rect.left)\n          setYOffset(window.pageYOffset + rect.bottom)\n        } catch {\n          console.log('Uncaught caret position')\n        }\n      }, [editor.value]\n    )\n\n    const onMouseDown = i => e => {\n      e.preventDefault()\n      editor.replaceLastWord(ref.portalState.list[i])\n      ref.portalState.open = false\n      ref.portalState.list = []\n      ref.portalState.index = 0\n      ref.portalUpdater()\n    }\n    const onMouseOver = i => e => {\n      e.preventDefault()\n      ref.portalState.index = i\n      ref.portalUpdater()\n    }\n\n    return (\n      list.length ? (\n        <div\n          ref={portalRef}\n          style={portalStyle({\n            open,\n            xOffset,\n            yOffset\n          })}\n        >\n          {list.map(\n            (option, i) => (\n              <div\n                key={i}\n                onMouseOver={onMouseOver(i)}\n                onMouseDown={onMouseDown(i)}\n                style={optionStyle({\n                  select: i === index,\n                  firstChild: i === 0,\n                  lastChild: i === list.length - 1\n                })}\n              >\n                {option}\n              </div>\n            )\n          )}\n        </div>\n      ) : null\n    )\n  }\n\n  const EventDispatcherPlugin = () => {\n    // middleware before passing next()\n    const _ = next => {\n      ref.portalUpdater()\n      return next()\n    }\n\n    const onKeyDown = (e, editor, next) => {\n      if (e.keyCode >= 65 && e.keyCode <= 90 && !e.ctrlKey && !e.metaKey) {\n      // open portal when typing alphabet\n        ref.portalState.open = true\n        return _(next)\n      } else if (ref.portalState.open && ref.portalState.list.length) {\n        // enable arrowKey selection when portal is open and list are non-empty\n        switch (e.keyCode) {\n          case 38: { // up\n            e.preventDefault()\n            ref.portalState.index = ref.portalState.index - 1\n            ref.portalState.index += ref.portalState.list.length // prevent negative value\n            ref.portalState.index %= ref.portalState.list.length\n            return _(next)\n          }\n          case 40: { // down\n            e.preventDefault()\n            ref.portalState.index = ref.portalState.index + 1\n            ref.portalState.index %= ref.portalState.list.length\n            return _(next)\n          }\n          case 13: { // enter\n            e.preventDefault()\n            const select = ref.portalState.list[ref.portalState.index] || ''\n            editor.replaceLastWord(select + ' ')\n            ref.portalState.open = false\n            ref.portalState.index = 0\n            ref.portalState.list = []\n            ref.portalUpdater()\n            return // prevent line change\n          }\n          default: {\n            // not typing alphabet or above arrowKey, close portal\n            ref.portalState.open = false\n            ref.portalState.index = 0\n            ref.portalState.list = []\n            return _(next)\n          }\n        }\n      } else {\n        // not typing alphabet, or list is empty, or portal is close\n        return _(next)\n      }\n    }\n\n    const onMouseDown = (e, editor, next) => {\n      ref.portalState.open = false\n      ref.portalState.index = 0\n      ref.portalState.list = []\n      return _(next)\n    }\n\n    const onChange = (editor, next) => {\n      const lastword = editor.getLastWord()\n      ref.portalState.list = getSuggestionlist(lastword, suggestionMap)\n      // updatePortal after value is applied to the editableContent\n      window.requestAnimationFrame(() => { ref.portalUpdater() })\n      return next()\n    }\n\n    return ({ onKeyDown, onMouseDown, onChange })\n  }\n\n  return ({\n    ...LastWordPlugin,\n    ...EventDispatcherPlugin(),\n    renderEditor: (props, editor, next) => (\n      <>\n        {next()}\n        <Portal editor={editor} />\n      </>\n    )\n  })\n}\n\nexport default SuggestionPortalPlugin\n","import React from 'react'\n\nconst bar = {\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center'\n}\n\nconst side = {\n  display: 'flex'\n}\n\nconst Place = ({\n  topLeftItems,\n  topRightItems,\n  bottomLeftItems,\n  bottomRightItems\n}) => ({\n  renderEditor: (props, editor, next) => {\n    return (\n      <>\n        <div style={bar}>\n          <div style={side}>\n            {topLeftItems.map(\n              (item, i) => (\n                <div key={i}>\n                  {item(editor)}\n                </div>\n              )\n            )}\n          </div>\n          <div style={side}>\n            {topRightItems.map(\n              (item, i) => (\n                <div key={i}>\n                  {item(editor)}\n                </div>\n              )\n            )}\n          </div>\n        </div>\n        {next()}\n        <div style={bar}>\n          <div style={side}>\n            <div style={side}>\n              {bottomLeftItems.map(\n                (item, i) => (\n                  <div key={i}>\n                    {item(editor)}\n                  </div>\n                )\n              )}\n            </div>\n          </div>\n          <div style={side}>\n            <div style={side}>\n              {bottomRightItems.map(\n                (item, i) => (\n                  <div key={i}>\n                    {item(editor)}\n                  </div>\n                )\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    )\n  }\n})\n\nexport default Place\n","export const toggleButtonStyle = ({ active, mouseover }) => ({\n  margin: '10px 5px',\n  border: '1px solid lightgray',\n  outline: 'none',\n  backgroundColor: active ? 'gray' : 'transparent',\n  color: active ? 'white' : 'black',\n  fontFamily: 'source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",monospace',\n  fontWeight: 'bold',\n  padding: '5px 10px',\n  cursor: 'pointer'\n})\n","import React from 'react'\nimport { toggleButtonStyle } from '../styles/buttonStyle'\n\nconst isMarkTypeActive = (editor, type) => editor.value.activeMarks.some(mark => mark.type === type)\nconst isBlockTypeActive = (editor, type) => editor.value.blocks.some(block => block.type === type)\n\nconst makeButton = ({ mouseDownHandler, styleHandler }) => ({ editor, label }) => (\n  <button\n    style={styleHandler(editor)}\n    onMouseDown={mouseDownHandler(editor)}\n  >\n    {label}\n  </button>\n)\nconst makeToggleMarkButton = ({ type }) => makeButton({\n  mouseDownHandler: editor => e => {\n    e.preventDefault()\n    editor.toggleMark({ type })\n  },\n  styleHandler: editor => isMarkTypeActive(editor, type)\n    ? toggleButtonStyle({ active: true })\n    : toggleButtonStyle({ active: false })\n})\nconst createMarkButton = ({ type, label }) => editor => makeToggleMarkButton({ type })({ editor, label })\n\nconst makeSetBlockButton = ({ type }) => makeButton({\n  mouseDownHandler: editor => e => {\n    e.preventDefault()\n    editor.setBlocks({ type })\n  },\n  styleHandler: editor => isBlockTypeActive(editor, type)\n    ? toggleButtonStyle({ active: true })\n    : toggleButtonStyle({ active: false })\n})\nconst createBlockButton = ({ type, label }) => editor => (\n  makeSetBlockButton({ type })({ editor, label })\n)\n\nexport { createMarkButton, createBlockButton }\n","import React from 'react'\n\nconst style = {\n  padding: '5px',\n  textAlign: 'right',\n  color: 'gray',\n  fontFamily: `source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n  monospace`,\n  fontWeight: 'bold'\n}\n\nconst calLength = str => str.split(' ').join('').split('\\n').join('').length\n\nconst textCounter = editor => {\n  const totalText = calLength(editor.value.document.text)\n  const selectedText = calLength(editor.value.fragment.text)\n  return (\n    <div style={style}>\n      <span>{selectedText} sel /</span>\n      <span> {totalText} tot</span>\n    </div>\n  )\n}\n\nconst TextCountPlugin = {\n  renderEditor: (props, editor, next) => {\n    const totalText = calLength(editor.value.document.text)\n    const selectedText = calLength(editor.value.fragment.text)\n    return (\n      <>\n        {next()}\n        <div style={style}>\n          <span>{selectedText} sel /</span>\n          <span> {totalText} tot</span>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default TextCountPlugin\nexport { textCounter }\n","import React from 'react'\nimport '../styles/editor.scss'\n\nconst EditorStylePlugin = style => ({\n  renderEditor: (props, editor, next) => {\n    return (\n      <div id='h2o-editor'>\n        {next()}\n      </div>\n    )\n  }\n})\n\nexport default EditorStylePlugin\n","// core\nimport React from 'react'\nimport { Editor } from 'slate-react'\n\n// plugins\n/* ------ KeyBinding ------- */\nimport CmdKeyPlugins from './plugins/CmdKeyPlugins'\nimport CtrlKeyPlugins from './plugins/CtrlKeyPlugins'\nimport TabIndentPlugin from './plugins/TabIndentPlugin'\nimport InsertLabelPlugin from './plugins/InsertLabelPlugin'\nimport InsertCommentPlugin from './plugins/InsertCommentPlugin'\n\n/* ------ Decoration ------- */\nimport HighlightFocusedBlockPlugin from './plugins/HighlightFocusedBlockPlugin'\n\n/* ------ Suggestion ------- */\nimport SuggestionPortalPlugin from './plugins/SuggestionPortalPlugin'\n\n/* ---------  GUI  --------- */\nimport Place from './plugins/Place'\nimport { createMarkButton, createBlockButton } from './plugins/buttonMaker'\nimport { textCounter } from './plugins/TextCountPlugin'\n\n/* ---------  CSS  --------- */\nimport EditorStylePlugin from './plugins/EditorStylePlugin'\nimport { toggleButtonStyle } from './styles/buttonStyle'\n\n// global ref for plugin to access internal data of the component\nconst ref = {\n  export: null,\n  setD: null\n}\n\nconst staticPlugins = [\n  HighlightFocusedBlockPlugin('rgba(0,0,0,.05)'),\n  ...CmdKeyPlugins,\n  ...CtrlKeyPlugins,\n  TabIndentPlugin,\n  Place({\n    topLeftItems: [\n      createMarkButton({\n        type: 'bold',\n        label: 'Bold'\n      }),\n      createMarkButton({\n        type: 'italic',\n        label: 'Italic'\n      }),\n      createMarkButton({\n        type: 'strikethrough',\n        label: 'Strike'\n      })\n    ],\n    topRightItems: [\n      createBlockButton({\n        type: 'paragraph',\n        label: 'Para...'\n      }),\n      createBlockButton({\n        type: 'code',\n        label: '<Code />'\n      }),\n      createBlockButton({\n        type: 'quotation',\n        label: '\"Quate\"'\n      })\n    ],\n    bottomLeftItems: [\n      editor => (\n        <button\n          style={toggleButtonStyle({})}\n          onClick={() => ref.export ? ref.export() : null}\n        > > Save\n        </button>\n      )\n    ],\n    bottomRightItems: [\n      textCounter\n    ]\n  }),\n  EditorStylePlugin({\n    border: '1px solid lightgray',\n    padding: '7px'\n  }),\n  InsertLabelPlugin\n  // InsertCommentPlugin\n]\n\nconst H2oEditor = ({\n  suggestionMap,\n  content,\n  setContent,\n  data,\n  setData,\n  editorRef\n}) => {\n  // passing slate's editor instance to parent\n  const _editorRef = React.useRef(null)\n  React.useEffect(\n    () => {\n      if (editorRef) {\n        editorRef.current = _editorRef.current\n      }\n    }, [editorRef]\n  )\n\n  // async data: [value -> content]\n  const [value, setValue] = React.useState(content)\n  // sync internal & external data\n  React.useEffect(\n    () => {\n      setValue(content)\n    }, [content]\n  )\n  // export internal data\n  React.useEffect(\n    () => {\n      // pass the hook for plugin to trigger exporting behavior\n      ref.export = () => setContent(value)\n      setContent(value)\n    }, [value, setContent]\n  )\n\n  // internal data: d, external data: data\n  const [d, setD] = React.useState(data)\n  // sync internal & external data\n  React.useEffect(\n    () => {\n      setD(data)\n    }, [data]\n  )\n  // export internal data\n  React.useEffect(\n    () => {\n      setData(d)\n    }, [d, setData]\n  )\n  // pass the hook for plugin to set internal data\n  React.useEffect(\n    () => {\n      ref.setD = setD\n    }, [setD]\n  )\n\n  // plugins\n  const [plugins, setPlugins] = React.useState(staticPlugins)\n  // dynamically update suggestion plugin\n  React.useEffect(\n    () => {\n      if (suggestionMap) {\n        setPlugins([...staticPlugins, SuggestionPortalPlugin(suggestionMap)])\n      }\n    }, [suggestionMap]\n  )\n\n  const onChange = change => {\n    // update editor\n    setValue(change.value)\n    // export d to parent\n    const data = null\n    setD(data || {\n      x: 0,\n      y: 0,\n      open: false\n    })\n  }\n\n  return value ? (\n    <Editor\n      ref={_editorRef}\n      onChange={onChange}\n      value={value}\n      plugins={plugins}\n      autoFocus\n    />\n  ) : null\n}\n\nexport default H2oEditor\n","export default {\n  onKeyDown: (e, editor, next) => {\n    if (e.keyCode !== 9) {\n      return next()\n    }\n    e.preventDefault()\n    editor.insertText('    ')\n  }\n}\n","import React from 'react'\n\nconst tableStyle = {\n  display: 'flex',\n  flexFlow: 'column wrap',\n  height: '500px',\n  alignItems: 'center',\n  margin: '10px 0px',\n  overflow: 'scroll',\n  border: '1px solid lightgray'\n}\nconst pairStyle = {\n  display: 'flex',\n  flexFlow: 'row',\n  margin: '10px'\n}\nconst inputStyle = type => ({\n  width: type === 'key' ? '100px' : '200px',\n  textAlign: 'center',\n  padding: '7px',\n  margin: '3px',\n  fontFamily: 'source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",monospace',\n  fontWeight: 'bold',\n  border: '0',\n  borderBottom: '1px solid gray',\n  outline: 'none'\n})\nconst buttonStyle = {\n  margin: '10px 5px',\n  fontFamily: 'source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",monospace',\n  fontWeight: 'bold',\n  padding: '5px',\n  border: 0,\n  cursor: 'pointer'\n}\nconst deleteButtonStyle = {\n  backgroundColor: 'transparent',\n  border: '0',\n  color: 'indianRed',\n  cursor: 'pointer',\n  fontWeight: 'bold'\n}\n\nconst Input = ({ value, setState, style }) => {\n  // internal data: v, external data: value\n  const [v, setV] = React.useState(value)\n  const [isFocused, setIsFocused] = React.useState(false)\n  const inputRef = React.useRef()\n\n  const onChange = e => setV(e.target.value)\n  const onFocus = e => {\n    inputRef.current.select()\n    setIsFocused(true)\n  }\n  // export internal data\n  const onBlur = e => {\n    if (value !== v) {\n      setState(v)\n    }\n    setIsFocused(false)\n  }\n\n  return (\n    <input\n      style={{\n        ...style,\n        backgroundColor: isFocused ? 'rgba(0,0,0,.05)' : 'white'\n      }}\n      ref={inputRef}\n      value={v}\n      onChange={onChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n    />\n  )\n}\n\nconst KeyMapTable = ({ suggestionMap, setSuggestionMap }) => {\n  // internal suggestion data\n  const [keys, setKeys] = React.useState(null)\n  const [vals, setVals] = React.useState(null)\n  const [uids, setUids] = React.useState(null)\n  const nextIdRef = React.useRef(0)\n\n  // sync internal data and external data\n  React.useEffect(\n    () => {\n      if (suggestionMap) {\n        // flatten suggestionMap to keys[] : vals[] pair\n        setKeys(Object.keys(suggestionMap))\n        setVals(Object.keys(suggestionMap).map(key => suggestionMap[key]))\n        // dynamic generate unique keyId for new pair\n        setUids(Object.keys(suggestionMap).map((key, i) => nextIdRef.current + i))\n        nextIdRef.current += Object.keys(suggestionMap).length\n      }\n    }, [suggestionMap]\n  )\n\n  const setStateBy = (index, field, setter) => newVal => {\n    setter([...field.slice(0, index), newVal, ...field.slice(index + 1)])\n  }\n\n  const deletePair = index => e => {\n    setKeys([...keys.slice(0, index), ...keys.slice(index + 1)])\n    setVals([...vals.slice(0, index), ...vals.slice(index + 1)])\n    setUids([...uids.slice(0, index), ...uids.slice(index + 1)])\n  }\n\n  const addPair = () => {\n    setKeys(['', ...keys])\n    setVals(['', ...vals])\n    setUids([nextIdRef.current, ...uids])\n    nextIdRef.current++\n  }\n\n  // bind keys[] : vals[] pair to generate new suggestionMap\n  const bind = (keys, vals) => keys.reduce(\n    (acc, key, i) => (\n      key ? { ...acc, [key]: vals[i] } : { ...acc }\n    ), {}\n  )\n\n  const exportMap = () => setSuggestionMap(bind(keys, vals))\n\n  return uids ? (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\n        <button onClick={addPair} style={buttonStyle}>+ add new shortcut</button>\n        <button onClick={exportMap} style={buttonStyle}>> save shortcuts</button>\n      </div>\n      <div style={tableStyle}>\n        {uids.map(\n          (uid, i) => (\n            <div key={uid} style={pairStyle}>\n              <button\n                style={deleteButtonStyle}\n                onClick={deletePair(i)}\n              >\n                {'-'}\n              </button>\n              <Input\n                style={inputStyle('key')}\n                value={keys[i]}\n                setState={setStateBy(i, keys, setKeys)}\n              />\n              <Input\n                style={inputStyle('val')}\n                value={vals[i]}\n                setState={setStateBy(i, vals, setVals)}\n              />\n            </div>\n          )\n        )}\n      </div>\n    </div>\n  ) : null\n}\n\nexport default KeyMapTable\n","import React from 'react'\n\nconst Marker = ({ x, y, w, open }) => {\n  return (\n    <>\n      <div\n        id='marker'\n        style={{\n          display: open ? 'block' : 'none',\n          border: '10px dashed red',\n          width: 2 * w,\n          height: 2 * w,\n          position: 'absolute',\n          left: x - w,\n          top: y - w,\n          pointerEvents: 'none'\n        }}\n      />\n    </>\n  )\n}\n\nconst ImageEditor = ({ src, data, setData }) => {\n  const [d, setD] = React.useState(data)\n\n  const onClick = e => {\n    setD({\n      x: e.nativeEvent.offsetX,\n      y: e.nativeEvent.offsetY,\n      open: true\n    })\n  }\n\n  React.useEffect(\n    () => {\n      setD(data)\n    }, [data]\n  )\n\n  return (\n    <div\n      style={{\n        textAlign: 'center',\n        marginTop: '30px',\n        position: 'relative',\n        backgroundImage: `url(${src})`,\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        height: '500px',\n        width: '100%'\n      }}\n      onClick={onClick}\n    >\n      <Marker x={d && d.x} y={d && d.y} w={75} open={d && d.open} />\n    </div>\n  )\n}\n\nexport default ImageEditor\n","const map = {\n  AMI: 'Acute Myocardial Infarction',\n  CHD: 'Congenital Heart Disease',\n  CHF: 'Congenital Heart Failure'\n  // AF: 'Atrial Flutter',\n  // Af: 'Atrial Fibrillation',\n  // VF: 'Ventricular Flutter',\n  // VT: 'Ventricular Tachycardia',\n  // CAD: 'Coronary Artery Disease',\n  // 'H/T': 'Hypertension',\n  // RHD: 'Rheumatic Heart Disease',\n  // SLE: 'Systemic Lupus Erythematosus',\n  // DIC: 'Disseminated Intravascular Coagulation',\n  // COPD: 'Chronic Obstructive  Pulmonary  Disease',\n  // PE: 'Pulmonary Embolism ',\n  // SOB: 'short of breath',\n  // URI: 'Upper Respiratory Infection',\n  // ARF: 'Acute Renal Failure',\n  // 'App.': 'Appendicitis',\n  // HHNK: 'Hyperglycemic Hyperosmolar Nonketolytic Coma',\n  // DM: 'diabetes mellitus',\n  // CP: 'Cerebral Palsy',\n  // IICP: 'Increased Intracranial Pressure',\n  // HIVD: 'Herniation of Intervertebral Disc',\n  // MS: 'Multiple Sclerosis',\n  // MG: 'Myasthenic Ggravis',\n  // RA: 'Rreumatoid Arthritis',\n  // BPH: 'benign prostatic hypertrophy',\n  // UTI: 'Urinary Tract Infection',\n  // NPC: 'Nasopharyngeal Carcinoma',\n  // CPS: 'Chronic paranasal sinusitis',\n  // RD: 'Retinal Detachment',\n  // IVF: 'In Vitro Fertilization',\n  // AFE: 'Amniotic Fluid Embolism',\n  // VD: 'Venereal Disease',\n  // PROM: 'Premature Rupture of  Membrane',\n  // RDS: 'Respiratory Distress Syndrome',\n  // SAH: 'Subarachnoid Hemorrhage',\n  // LE: 'Lupus erythematosus',\n  // TB: 'Tuberculosis',\n  // Ca: 'potassium',\n  // CPN: 'chronic pyelonephritis ',\n  // DOA: 'dead on arrival',\n  // DOE: 'dyspnea on exercise',\n  // AGN: 'Acute Glomerulenephritis',\n  // LP: 'Lumbar Puncture',\n  // THR: 'Total Hip Replacement',\n  // 'D&C': 'Dilatation and Curettage',\n  // 'D&E': 'Dilatation and Evacuation',\n  // EP: 'Episiotomy',\n  // CVP: 'central venous pressure',\n  // 'B.T.': 'Transfusion',\n  // GCS: 'Glasgow Coma scale',\n  // ROM: 'Range of  Motion',\n  // PP: 'Postpartum',\n  // 'C/S': 'Cesarean Section',\n  // NSD: 'Normal Spontaneous Delivery',\n  // AAD: 'against-advice discharge',\n  // BW: 'body  weight',\n  // CC: 'chief complaint',\n  // CO: 'cardiac output',\n  // CPR: 'cardiopulmonary resuscitation',\n  // BH: 'body height',\n  // OU: 'Oculus Uterque',\n  // OS: 'Oculus Sinister',\n  // OD: ' Oculus Dexter',\n  // 'I&O': 'Intake and output'\n}\n\nexport default map\n","import React from 'react'\nimport H2oEditor from './editor/Editor.js'\nimport KeyMapTable from './editor/KeyMapTable'\nimport ImageEditor from './editor/ImageEditor'\n\n// for importer and exporter\nimport store from 'store-js'\nimport { Value } from 'slate'\nimport defaultMap from './editor/static/defaultMap.js'\n\n// router\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom'\n\nconst containerStyle = {\n  display: 'flex',\n  flexFlow: 'row nowrap'\n}\n\nconst centerBlockStyle = {\n  width: '70vw'\n}\nconst sideBlockStyle = {\n  width: '30vw'\n}\n\nconst headingStyle = {\n  textAlign: 'center',\n  paddingTop: '30px',\n  fontFamily: 'source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",monospace'\n}\n\nconst componentStyle = {\n  padding: '30px',\n  paddingBottom: '60px'\n}\n\nconst getContent = () => {\n  const storedJsonStr = store.get('slateJs-demo') // json || undefined\n  const json = storedJsonStr ? JSON.parse(storedJsonStr) : ''\n  const initialValue = Value.fromJSON(json || {\n    document: {\n      nodes: [\n        {\n          object: 'block',\n          type: 'paragraph',\n          nodes: [\n            {\n              object: 'text',\n              text: ''\n            }\n          ]\n        }\n      ]\n    }\n  })\n  return initialValue\n}\n\nconst storedMap = defaultMap\nconst storedContent = getContent()\n\nfunction App () {\n  // map data\n  const [suggestionMap, setSuggestionMap] = React.useState(null)\n  // init map data\n  React.useEffect(\n    () => {\n      const storedMap = store.get('h2O-editor-suggestionMap')\n      setSuggestionMap(storedMap || {})\n    }, []\n  )\n  // export map data\n  React.useEffect(\n    () => {\n      if (suggestionMap !== storedMap) {\n        store.set('h2O-editor-suggestionMap', suggestionMap)\n      }\n    }, [suggestionMap]\n  )\n\n  // content\n  const [content, setContent] = React.useState(null)\n  // init content\n  React.useEffect(\n    () => {\n      setContent(storedContent)\n    }, []\n  )\n  // export content\n  React.useEffect(\n    () => {\n      if (content && content.document !== storedContent.document) {\n        const jsonStr = JSON.stringify(content)\n        store.set('slateJs-demo', jsonStr)\n      }\n    }, [content]\n  )\n\n  // editor dynamic output\n  const [data, setData] = React.useState(null)\n\n  return (\n    <Router>\n      <div style={containerStyle}>\n        <Switch>\n          <Route path='/keyset'>\n            <div style={sideBlockStyle}>\n              <Link to='/'>\n                <h1 style={headingStyle}>\n                  {'<KeyMapTable />'}\n                </h1>\n              </Link>\n              <div style={componentStyle}>\n                <KeyMapTable\n                  suggestionMap={suggestionMap}\n                  setSuggestionMap={setSuggestionMap}\n                />\n              </div>\n            </div>\n          </Route>\n          <Route path='/'>\n            <div style={sideBlockStyle}>\n              <Link to='/keyset'>\n                <h1 style={headingStyle}>\n                  {'<Image />'}\n                </h1>\n              </Link>\n              <ImageEditor\n                src='https://placeimg.com/640/480/animals'\n                data={data}\n              />\n            </div>\n          </Route>\n        </Switch>\n        <div style={centerBlockStyle}>\n          <h1 style={headingStyle}>\n            {'<Editor />'}\n          </h1>\n          <div style={componentStyle}>\n            <H2oEditor\n              suggestionMap={suggestionMap}\n              content={content}\n              setContent={setContent}\n              data={data}\n              setData={setData}\n            />\n          </div>\n        </div>\n      </div>\n    </Router>\n  )\n}\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}