(this["webpackJsonprich-text-editor-survey"]=this["webpackJsonprich-text-editor-survey"]||[]).push([[0],{209:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(36),c=n.n(a),i=(n(93),n(11)),u=n(5),l=n(86),s=function(e){var t=e.type,n=e.key;return{onKeyDown:function(e,r,o){if(!e.metaKey||e.key!==n)return o();e.preventDefault(),r.toggleMark(t)}}},p=function(e){return{renderMark:function(t,n,r){return t.mark.type===e.type?e.component(t):r()}}},d=function(e){return[s(e),p(e)]},f=[].concat(Object(u.a)(d({type:"bold",key:"b",component:function(e){return o.a.createElement("strong",e.attribute,e.children)}})),Object(u.a)(d({type:"strikethrough",key:"s",component:function(e){return o.a.createElement("s",e.attribute,e.children)}})),Object(u.a)(d({type:"underline",key:"u",component:function(e){return o.a.createElement("u",e.attribute,e.children)}})),Object(u.a)(d({type:"italic",key:"i",component:function(e){return o.a.createElement("i",e.attribute,e.children)}})),Object(u.a)(d({type:"highlight",key:"h",component:function(e){return o.a.createElement("span",Object.assign({},e.attribute,{style:{background:"gold"}}),e.children)}}))),y=n(10);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=function(e){var t=e.type,n=e.key;return{onKeyDown:function(e,r,o){if(!e.ctrlKey||e.key!==n)return o();e.preventDefault();var a=r.value.blocks.some((function(e){return e.type===t}));r.setBlocks({type:a?"paragraph":t})}}},g=function(e){var t=e.type,n=e.component;return{renderBlock:function(e,r,o){return e.node.type===t?n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):o()}}},v=function(e){var t=e.type,n=e.key,r=e.component;return[b({type:t,key:n}),g({type:t,component:r})]},h=[].concat(Object(u.a)(v({type:"code",key:"c",component:function(e){return o.a.createElement("pre",e.attribute,o.a.createElement("code",null,e.children))}})),Object(u.a)(v({type:"header1",key:"1",component:function(e){return o.a.createElement("h1",e.attribute,e.children)}})),Object(u.a)(v({type:"header2",key:"2",component:function(e){return o.a.createElement("h2",e.attribute,e.children)}})),Object(u.a)(v({type:"header3",key:"3",component:function(e){return o.a.createElement("h3",e.attribute,e.children)}})),Object(u.a)(v({type:"header4",key:"4",component:function(e){return o.a.createElement("h4",e.attribute,e.children)}})),Object(u.a)(v({type:"header5",key:"5",component:function(e){return o.a.createElement("h5",e.attribute,e.children)}})),Object(u.a)(v({type:"header6",key:"6",component:function(e){return o.a.createElement("h6",e.attribute,e.children)}})),Object(u.a)(v({type:"quotation",key:"q",component:function(e){return o.a.createElement("blockquote",e.attribute,e.children)}}))),O=function(e){return{renderBlock:function(t,n,r){return t.isFocused?o.a.createElement("div",{style:{backgroundColor:e}},r()):r()}}},E=n(24),j=n.n(E),k={AMI:"Acute Myocardial Infarction",CHD:"Congenital Heart Disease",CHF:"Congenital Heart Failure",AF:"Atrial Flutter",Af:"Atrial Fibrillation",VF:"Ventricular Flutter",VT:"Ventricular Tachycardia",CAD:"Coronary Artery Disease","H/T":"Hypertension",RHD:"Rheumatic Heart Disease",SLE:"Systemic Lupus Erythematosus",DIC:"Disseminated Intravascular Coagulation",COPD:"Chronic Obstructive  Pulmonary  Disease",PE:"Pulmonary Embolism ",SOB:"short of breath",URI:"Upper Respiratory Infection",ARF:"Acute Renal Failure","App.":"Appendicitis",HHNK:"Hyperglycemic Hyperosmolar Nonketolytic Coma",DM:"diabetes mellitus",CP:"Cerebral Palsy",IICP:"Increased Intracranial Pressure",HIVD:"Herniation of Intervertebral Disc",MS:"Multiple Sclerosis",MG:"Myasthenic Ggravis",RA:"Rreumatoid Arthritis",BPH:"benign prostatic hypertrophy",UTI:"Urinary Tract Infection",NPC:"Nasopharyngeal Carcinoma",CPS:"Chronic paranasal sinusitis",RD:"Retinal Detachment",IVF:"In Vitro Fertilization",AFE:"Amniotic Fluid Embolism",VD:"Venereal Disease",PROM:"Premature Rupture of  Membrane",RDS:"Respiratory Distress Syndrome",SAH:"Subarachnoid Hemorrhage",LE:"Lupus erythematosus",TB:"Tuberculosis",Ca:"potassium",CPN:"chronic pyelonephritis ",DOA:"dead on arrival",DOE:"dyspnea on exercise",AGN:"Acute Glomerulenephritis",LP:"Lumbar Puncture",THR:"Total Hip Replacement","D&C":"Dilatation and Curettage","D&E":"Dilatation and Evacuation",EP:"Episiotomy",CVP:"central venous pressure","B.T.":"Transfusion",GCS:"Glasgow Coma scale",ROM:"Range of  Motion",PP:"Postpartum","C/S":"Cesarean Section",NSD:"Normal Spontaneous Delivery",AAD:"against-advice discharge",BW:"body  weight",CC:"chief complaint",CO:"cardiac output",CPR:"cardiopulmonary resuscitation",BH:"body height",OU:"Oculus Uterque",OS:"Oculus Sinister",OD:" Oculus Dexter","I&O":"Intake and output"},w=function(){return j.a.get("client-suggestionMap")||k},x=function(e){j.a.set("client-suggestionMap",e)},D=w();function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var P=function(e){var t=e.select,n=e.firstChild,r=e.lastChild;return Object.assign({},{backgroundColor:"white",color:"gray",padding:"7px 14px 7px 7px",fontWeight:"bold",border:"1px solid transparent",cursor:"pointer"},t?{backgroundColor:"gray",color:"white",borderTop:"1px dashed white",borderBottom:"1px dashed white"}:{},n?{borderTop:"1px solid transparent"}:{},r?{borderBottom:"1px solid transparent"}:{})},S={value:[],clear:function(){S.value=[]}},M=function(e){var t=e.editor,n=o.a.useState(!1),r=Object(i.a)(n,2),a=r[0],c=r[1],u=o.a.useState(0),l=Object(i.a)(u,2),s=l[0],p=l[1],d=o.a.useState(0),f=Object(i.a)(d,2),y=f[0],m=f[1],b=o.a.useState(0),g=Object(i.a)(b,2),v=g[0],h=g[1],O=o.a.useRef(null);o.a.useEffect((function(){var e=function(e){var t=e.editor,n=e.index;return function(e){switch(e.detail.instruction){case"open":!function(){try{var e=window.getSelection().getRangeAt(0).getBoundingClientRect();m(e.left),h(e.bottom)}catch(t){console.log("uncaught caret position")}}(),p(0),c(!0);break;case"close":c(!1),p(0);break;case"incre":var r=(n+1)%S.value.length||0;p(r),O.current&&O.current.children[r].scrollIntoView({block:"nearest",inline:"nearest"});break;case"decre":var o=(n-1+S.value.length)%S.value.length||0;p(o),O.current&&O.current.children[o].scrollIntoView({block:"nearest",inline:"nearest"});break;case"enter":S.value[n]&&t.replaceLastWord(S.value[n]).insertText(" "),p(0),c(!1);break;default:console.log("unhandled event:",e)}}}({index:s,editor:t}),n=function(){return t.updateSuggestionMap()};return document.addEventListener("editorEmittedEvent",e),document.addEventListener("suggestionMapUpdated",n),function(){document.removeEventListener("editorEmittedEvent",e),document.removeEventListener("suggestionMapUpdated",n)}}),[t,s]);var E,j=function(e){return function(n){n.preventDefault(),p(e),c(!1),t.replaceLastWord(S.value[e])}},k=function(e){return function(t){t.preventDefault(),p(e)}};return S.value.length?o.a.createElement("div",{ref:O,style:(E={open:a,xOffset:y,yOffset:v},{display:E.open?"flex":"none",flexFlow:"column",overflow:"scroll",maxHeight:"136px",minWidth:"100px",position:"fixed",left:E.xOffset,top:E.yOffset,transform:"translate3d(-5px,5px,0)",border:"1px dashed gray"})},S.value.map((function(e,t){return o.a.createElement("div",{key:t,onMouseOver:k(t),onMouseDown:j(t),style:P({select:s===t,firstChild:0===t,lastChild:t===S.value.length-1})},e)}))):null},A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{queries:{getLastWord:function(e){if(e.value.focusText){var t=e.value.focusText.text,n=e.value.selection.focus.offset;return t.slice(0,n).split("\n").join("").split(" ").reverse()[0]}return""},getSuggestionWord:function(e){return D[e.getLastWord()]||""},getSuggestionWordOf:function(e,t){return D[e.getLastWord()+t]||""},getSuggestionListOf:function(e,t){var n=e.getLastWord()+t||"";return n?n.split("").reduce((function(e,t,n){return e[0]?[e[0]+t].concat(Object(u.a)(e)):[t]}),[]).reduce((function(e,t){return D[t]?[].concat(Object(u.a)(e),[D[t]]):Object(u.a)(e)}),[]):[]}},commands:{updateSuggestionMap:function(e){D=w()},replaceLastWord:function(e,t){var n=e.getLastWord();n&&"string"===typeof t&&e.deleteBackward(n.length).insertText(t)},replaceLastWordBySuggestion:function(e){var t=e.getLastWord();if(t){var n=e.getSuggestionWord();n&&e.deleteBackward(t.length).insertText(n)}}}},{},function(){var e=function(e){return new window.CustomEvent("editorEmittedEvent",{detail:{instruction:e}})};return{onKeyDown:function(t,n,r){if(t.keyCode>=65&&t.keyCode<=90&&!t.ctrlKey&&!t.metaKey)return S.value=n.getSuggestionListOf(t.key),document.dispatchEvent(e("open")),r();if(!S.value.length)return r();switch(t.keyCode){case 38:return t.preventDefault(),void document.dispatchEvent(e("decre"));case 40:return t.preventDefault(),void document.dispatchEvent(e("incre"));case 13:return t.preventDefault(),document.dispatchEvent(e("enter")),void S.clear();default:return document.dispatchEvent(e("close")),S.clear(),r()}},onMouseDown:function(t,n,r){return document.dispatchEvent(e("close")),r()}}}(),{renderEditor:function(e,t,n){return o.a.createElement(o.a.Fragment,null,n(),o.a.createElement(M,{editor:t}))}});function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var H={display:"flex",justifyContent:"space-between"},F={},T=function(e){var t=e.active;return{margin:"10px 5px",backgroundColor:t?"gray":"transparent",color:t?"white":"black",fontFamily:'source-code-pro, Menlo, Monaco, Consolas, "Courier New",monospace',fontWeight:"bold",padding:"5px",border:0,cursor:"pointer"}},I=function(e){var t=e.mouseDownHandler,n=e.styleHandler;return function(e){var r=e.editor,a=e.label;return o.a.createElement("button",{style:n(r),onMouseDown:t(r)},a)}},R=function(e){var t=e.type,n=e.label,r=e.editor;return function(e){var t=e.type;return I({mouseDownHandler:function(e){return function(n){n.preventDefault(),e.toggleMark({type:t})}},styleHandler:function(e){return e.isMarkTypeActive(t)?T({active:!0}):T({active:!1})}})}({type:t})({editor:r,label:n})},W=function(e){var t=e.type,n=e.label,r=e.editor;return function(e){var t=e.type;return I({mouseDownHandler:function(e){return function(n){n.preventDefault(),e.setBlocks({type:t})}},styleHandler:function(e){return e.isBlockTypeActive(t)?T({active:!0}):T({active:!1})}})}({type:t})({editor:r,label:n})},L=function(e){var t=e.editor;return o.a.createElement("div",{style:H},o.a.createElement("div",{style:F},o.a.createElement(R,{editor:t,type:"bold",label:"Bold"}),o.a.createElement(R,{editor:t,type:"italic",label:"Italic"}),o.a.createElement(R,{editor:t,type:"strikethrough",label:"Strike"})),o.a.createElement("div",{style:F},o.a.createElement(W,{editor:t,type:"paragraph",label:"Para..."}),o.a.createElement(W,{editor:t,type:"quotation",label:"Qua."}),o.a.createElement(W,{editor:t,type:"code",label:"<code>"})))},N=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({renderEditor:function(e,t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{editor:t}),n())}},{queries:{isBoldActive:function(e){return e.value.activeMarks.some((function(e){return"bold"===e.type}))},isItalicActive:function(e){return e.value.activeMarks.some((function(e){return"italic"===e.type}))},isStrikethroughActive:function(e){return e.value.activeMarks.some((function(e){return"strikethrough"===e.type}))},isMarkTypeActive:function(e,t){return e.value.activeMarks.some((function(e){return e.type===t}))},isCodeBlock:function(e){return e.value.blocks.some((function(e){return"code"===e.type}))},isParagraphBlock:function(e){return e.value.blocks.some((function(e){return"paragraph"===e.type}))},isQuotationBlock:function(e){return e.value.blocks.some((function(e){return"quotation"===e.type}))},isBlockTypeActive:function(e,t){return e.value.blocks.some((function(e){return e.type===t}))}}}),V={padding:"5px",textAlign:"right",color:"gray",fontFamily:'source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n  monospace',fontWeight:"bold"},K=function(e){return e.split(" ").join("").split("\n").join("").length},U={renderEditor:function(e,t,n){var r=K(t.value.document.text),a=K(t.value.fragment.text);return o.a.createElement(o.a.Fragment,null,n(),o.a.createElement("div",{style:V},o.a.createElement("span",null,a," sel."),o.a.createElement("span",null,r," tot.")))}},q=function(e){return{renderEditor:function(t,n,r){return o.a.createElement("div",{style:e},r())}}},J=n(3),G=function(){var e=j.a.get("slateJs-demo"),t=e?JSON.parse(e):"";return J.n.fromJSON(t||{document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",text:" A line of text in a paragraph."}]}]}})},Q=function(e){var t=JSON.stringify(e.value.toJSON());j.a.set("slateJs-demo",t)},z=[O("rgba(0,0,0,.1)")].concat(Object(u.a)(f),Object(u.a)(h),[{onKeyDown:function(e,t,n){if(9!==e.keyCode)return n();e.preventDefault(),t.insertText("    ")}},N,U,A,q({border:"1px solid lightgray",padding:"7px"})]),$=function(e){o.a.useEffect((function(){var e=G();a(e)}),[]);var t=o.a.useState(null),n=Object(i.a)(t,2),r=n[0],a=n[1];return r?o.a.createElement(l.a,{onChange:function(e){e.value.document!==r.document&&Q(e),a(e.value)},value:r,plugins:z,autoFocus:!0}):null};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={display:"flex",flexFlow:"column wrap",height:"500px",alignItems:"center",margin:"10px 0px",overflow:"scroll",border:"1px solid lightgray"},_={display:"flex",flexFlow:"row",margin:"10px"},ee=function(e){return{width:"key"===e?"100px":"200px",textAlign:"center",padding:"7px",margin:"3px",fontFamily:'source-code-pro, Menlo, Monaco, Consolas, "Courier New",monospace',fontWeight:"bold",border:"0",borderBottom:"1px solid gray",outline:"none"}},te={margin:"10px 5px",fontFamily:'source-code-pro, Menlo, Monaco, Consolas, "Courier New",monospace',fontWeight:"bold",padding:"5px",border:0,cursor:"pointer"},ne={backgroundColor:"transparent",border:"0",color:"indianRed",cursor:"pointer"},re=function(e){var t=e.value,n=e.setState,r=e.style,a=o.a.useState(t),c=Object(i.a)(a,2),u=c[0],l=c[1],s=o.a.useRef();return o.a.createElement("input",{style:r,ref:s,value:u,onChange:function(e){return l(e.target.value)},onFocus:function(e){return s.current.select()},onBlur:function(e){return t===u?0:n(u)}})},oe=function(){o.a.useEffect((function(){var e=w();r(Object.keys(e)),s(Object.keys(e).map((function(t){return e[t]}))),m(Object.keys(e).map((function(e,t){return t}))),h(Object.keys(e).length)}),[]);var e=o.a.useState([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=o.a.useState([]),c=Object(i.a)(a,2),l=c[0],s=c[1],p=o.a.useState([]),d=Object(i.a)(p,2),f=d[0],m=d[1],b=o.a.useState(0),g=Object(i.a)(b,2),v=g[0],h=g[1],O=function(e,t,n){return function(r){n([].concat(Object(u.a)(t.slice(0,e)),[r],Object(u.a)(t.slice(e+1))))}},E=function(){x(function(e,t){return e.reduce((function(e,n,r){return n?Y({},e,Object(y.a)({},n,t[r])):Y({},e)}),{})}(n,l)),document.dispatchEvent(new window.CustomEvent("suggestionMapUpdated"))};return o.a.useEffect((function(){E()})),o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},o.a.createElement("button",{onClick:function(){r([""].concat(Object(u.a)(n))),s([""].concat(Object(u.a)(l))),m([v].concat(Object(u.a)(f))),h(v+1)},style:te},"+ add new shortcut")),o.a.createElement("div",{style:Z},f.map((function(e,t){return o.a.createElement("div",{key:e,style:_},o.a.createElement("button",{style:ne,onClick:(a=t,function(e){r([].concat(Object(u.a)(n.slice(0,a)),Object(u.a)(n.slice(a+1)))),s([].concat(Object(u.a)(l.slice(0,a)),Object(u.a)(l.slice(a+1)))),m([].concat(Object(u.a)(f.slice(0,a)),Object(u.a)(f.slice(a+1))))})},"-"),o.a.createElement(re,{style:ee("key"),value:n[t],setState:O(t,n,r)}),o.a.createElement(re,{style:ee("val"),value:l[t],setState:O(t,l,s)}));var a}))))},ae=n(219),ce={width:"80%",maxWidth:"1000px",minWidth:"500px",margin:"0 auto"},ie={textAlign:"center",paddingTop:"30px"},ue={padding:"30px"};var le=function(){return o.a.createElement("div",{style:ce},o.a.createElement("h1",{style:ie},"<Editor />"),o.a.createElement("div",{style:ue},o.a.createElement($,null)),o.a.createElement(ae.a,null),o.a.createElement("h1",{style:ie},"<KeyMapTable />"),o.a.createElement("div",{style:ue},o.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,n){e.exports=n(209)},93:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.e485f435.chunk.js.map